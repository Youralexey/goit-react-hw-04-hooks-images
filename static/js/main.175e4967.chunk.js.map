{"version":3,"sources":["components/App.styled.jsx","components/Searchbar/Searchbar.styled.jsx","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/galleryApi.js","components/App.jsx","index.js"],"names":["CustomApp","styled","div","CustomSearchbar","header","CustomSearchForm","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","SearchForm","onSubmit","useState","value","setValue","resetInput","e","preventDefault","trim","toast","error","type","placeholder","autocomplete","onChange","target","toLowerCase","Searchbar","CurrentImageGalleryItem","li","ImageGalleryItemImage","img","ImageGalleryItem","id","src","alt","onClick","CurrentImageGallery","ul","ImageGallery","images","onSelect","map","image","uuidv4","webformatURL","tags","Button","Overlay","CurrentModal","Img","CloseBtn","modalRoot","document","getElementById","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","currentTarget","width","size","API_KEY","imageName","page","a","axios","get","response","status","data","hits","api","fetchImages","Status","App","setImageName","setImages","setPage","selectedImage","setSelectedImage","setStatus","then","newImages","length","prevImages","catch","scrollTo","top","documentElement","scrollHeight","behavior","largeImageURL","state","color","height","timeout","reactDom","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.175e4967.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const CustomApp = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;","import styled from \"@emotion/styled\";\r\n\r\nexport const CustomSearchbar = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const CustomSearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SearchFormButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport {\r\n  CustomSearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} from \"./SearchForm.styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function SearchForm({ onSubmit }) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleInputValue = (e) => {\r\n    setValue(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (value.trim() === \"\") {\r\n      // alert('Введите название картинки.');\r\n      toast.error(\"Input picture`s name.\");\r\n      return;\r\n    }\r\n    onSubmit(value);\r\n    resetInput();\r\n  };\r\n\r\n  const resetInput = () => {\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <CustomSearchForm onSubmit={handleSubmit}>\r\n      <SearchFormButton type=\"submit\">\r\n        <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n      </SearchFormButton>\r\n      <SearchFormInput\r\n        type=\"text\"\r\n        value={value}\r\n        placeholder=\"Search images and photos\"\r\n        autocomplete=\"off\"\r\n        onChange={handleInputValue}\r\n      />\r\n      <Toaster />\r\n    </CustomSearchForm>\r\n  );\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  value: PropTypes.string,\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { CustomSearchbar } from \"./Searchbar.styled\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  return (\r\n    <CustomSearchbar>\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </CustomSearchbar>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const CurrentImageGalleryItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`\r\n\r\nexport const ImageGalleryItemImage = styled.img`\r\n  width: 100%;\r\n  height: 190px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    &:hover {\r\n      transform: scale(1.03);\r\n      cursor: zoom-in;\r\n    }\r\n`","import {\r\n  CurrentImageGalleryItem,\r\n  ImageGalleryItemImage,\r\n} from \"./ImageGalleryItem.styled\";\r\n\r\nexport default function ImageGalleryItem({ id, src, alt, onClick }) {\r\n  return (\r\n    <CurrentImageGalleryItem>\r\n      <ImageGalleryItemImage key={id} src={src} alt={alt} onClick={onClick} />\r\n    </CurrentImageGalleryItem>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const CurrentImageGallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 66px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport { CurrentImageGallery } from \"./ImageGallery.styled\";\r\nimport PropTypes from \"prop-types\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport default function ImageGallery({ images, onSelect }) {\r\n  return (\r\n    <CurrentImageGallery>\r\n      {images &&\r\n        images.map((image) => {\r\n          const id = uuidv4();\r\n          const { webformatURL, tags } = image;\r\n          return (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              src={webformatURL}\r\n              alt={tags}\r\n              onClick={() => onSelect(image)}\r\n            />\r\n          );\r\n        })}\r\n    </CurrentImageGallery>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Button = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  width: 180px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  color: #fff;\r\n  border: 0;\r\n  text-transform: uppercase;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  // min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n    \r\n    &:hover,\r\n    &:focus {\r\n      background-color: #303f9f;\r\n    }\r\n`","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`\r\n\r\nexport const CurrentModal = styled.div`\r\n  position: relative;\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`\r\n\r\nexport const Img = styled.img`\r\ndisplay: block;`\r\n\r\nexport const CloseBtn = styled.button`\r\nposition: absolute;\r\ntop: 8px;\r\nright: 8px;\r\npadding:1px;\r\nborder: none;\r\ncursor: pointer;\r\n&:hover,\r\n&:focus{\r\n  background-color: #ADD8E6;\r\n}`;","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport { CurrentModal, Overlay, Img, CloseBtn } from \"./Modal.styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default function Modal({ onClose, src }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    onClose();\r\n  };\r\n\r\n  return createPortal(\r\n    <Overlay onClick={handleBackdropClick}>\r\n      <CurrentModal>\r\n        <Img src={src} width=\"1000px\" />\r\n        <CloseBtn type=\"button\" onClick={closeModal}>\r\n          <MdClose size=\"2em\" />\r\n        </CloseBtn>\r\n      </CurrentModal>\r\n    </Overlay>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n};\r\n","import axios from \"axios\";\nconst API_KEY = \"22688730-7478780a51f867bdd79495f14\";\n\nasync function fetchImages(imageName, page) {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  if (response.status === 200) {\n    return response.data.hits;\n    \n  }\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { useState, useEffect } from 'react';\nimport { CustomApp } from './App.styled';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button.styled'\nimport Modal from './Modal/Modal';\nimport api from './galleryApi';\nimport Loader from \"react-loader-spinner\";\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n};\n\n\nexport default function App() {\n    const [imageName, setImageName] = useState(null);\n    const [images, setImages] = useState([]);\n    const [page, setPage] = useState(1);\n    const [selectedImage, setSelectedImage] = useState(null);\n    const [status, setStatus] = useState(Status.IDLE);\n    // const [error, setError] = useState(null);\n\n    useEffect(() => {\n        if (status === Status.PENDING) {\n            api\n                .fetchImages(imageName, page)\n                .then(newImages => {\n                    if (newImages.length === 0) {\n                        toast.error(`Oops, we did not find such picture as ${imageName}`);\n                        setStatus(Status.IDLE);\n                        return;\n                    }\n                    setImages(prevImages => [...prevImages, ...newImages]);\n                    setStatus(Status.RESOLVED);\n                })\n                .catch(error => {\n                    // setError(error);\n                    setStatus(Status.REJECTED);\n                });\n        }\n\n    }, [imageName, page, status])\n\n    useEffect(() => {\n         window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        })\n    }, [images])\n    \n    // if (status === Status.REJECTED) {\n    //     return {error.message}\n    // }\n\n\n    const searchbarInputValueHandler = (value) => {\n        // console.log('value :>> ', value);\n        if (value.trim() !== '') {\n            setImageName(value);\n            setStatus(Status.PENDING);\n        }\n\n        if (imageName !== value) {\n            setImages([]);\n            setPage(1);\n        }\n\n    }\n\n\n    const handleLoadMoreBtnClick = () => {\n        setPage(page => page + 1);\n        setStatus(Status.PENDING);\n    }\n\n    const handleSelectImage = data => {\n        setSelectedImage(data);\n    }\n\n    const closeModal = () => {\n        setSelectedImage(null);\n    }\n\n    return (\n        <CustomApp>\n            <Searchbar onSubmit={searchbarInputValueHandler} />\n            <Toaster />\n            <ImageGallery images={images} onSelect={handleSelectImage} />\n            {status === Status.RESOLVED && <Button type=\"button\" onClick={handleLoadMoreBtnClick}>Load more</Button>}\n            {selectedImage && <Modal\n                src={selectedImage.largeImageURL}\n                alt={selectedImage.tags}\n                onClose={closeModal}\n                state={status} />}\n            {status === Status.PENDING && <Loader\n                type=\"Circles\"\n                color=\"#00BFFF\" height={300} width={300}\n                timeout={5000}\n            />}\n        </CustomApp>)\n\n}","import React from \"react\";\nimport reactDom from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nreactDom.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}